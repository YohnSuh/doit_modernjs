<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스코프</title>
</head>
<body>
    <script>
        // 스코프: 선언한 변수의 적용 범위
        // 지역 스코프: 변수를 특정 영역에서만 사용할 수 있을 때 '지역스코프를 가지고 있다'고 말하며,
        //             이러한 변수를 '지역변수'라고 함
        // 전역 스코프: 프로그램의 시작 부분에서 변수를 선언하면 프로그램 전체에서 사용가능한 스코프로,
        //             전역 스코프를 가지는 변수를 '전역 변수'라고 함
        var hi = "hello";   // 전역변수
        function greeting() {
            console.log(hi);
        }
        greeting();
        // => hi변수는 프로그램의 시작 부분에서 선언하고 있으므로 프로그램의 모든 곳에 사용할 수 있으며,
        //    greeting() 함수에서도 전역 변수 hi를 사용할 수 있음

        function change() {
            hi = "bye";
        }
        console.log(hi);    // hello
        change();           // bye로 교체
        console.log(hi);    // bye
        // => 전역 변수는 함수의 어디에서나 값을 변경할 수 있음

        // 함수에서 변수를 선언할 때 변수의 이름 앞에 var 예약어를 붙이지 않으면 전역변수로 인식
        // let, const를 사용한 변수도 프로그램의 맨 앞에 선언하면 프로그램 전체에서 사용할 수 있지만,
        // 이 경우 '전역 스코프를 가진다'고 하지 않고 '스크립트 스코프를 가진다'고 함.

        // 블록 스코프: 블록은 중괄호로 둘러싸인 영역을 가리키는데, 블록별로 변수의 유효범위가 결정되는 것을 '블록 스코프'라고 함.
        //             let, const를 사용해 만든 변수는 기본적으로 변수가 선언된 블록 안에서만 유효하며,
        //             이를 '블록 스코프를 가진다'라고 하고 블록 스코프를 가진 변수를 '블록 변수'라고 함
        const factor = 5;   // 1. 모든 블록의 바깥쪽에 선언했으므로 모든 블록에서 사용 가능
        // function calc() {
        //     return num * factor;    // 3. num 변수에 접근 불가
        // }
        // {
        //     const num = 10;
        //     let result = calc();    // 2. num, result는 두 번째 블록에서 선언했으므로 두 번째 블록을 벗어나면 사용할 수 없음
        //     document.write(result);
        // }
        function calc(num) {    // num을 매개변수로 선언하여 사용
            return num * factor;
        }
        {
            let result = calc(10);
            document.write(result);
        }
        /*
            변수 사용법
            1. var변수보다 let, const 변수를 사용
            - var 변수는 다시 선언할 수 있어서 실수로 같은 변수를 다시 선언해도 오류가 발생하지 않으며,
              변수를 먼저 실행한 수 나중에 선언해도 오류가 발생하지 않기에 호이스팅이 없는 let이나 const를 사용하는 것이 안전함
            2. 전역 변수는 최소한으로 사용
            - 어디에서든지 값을 변경할 수 있으므로 예상하지 못한 곳에서 값이 달리질 수 있기에 오류 발생률이 높아짐.
              그러므로 전역 변수의 사용을 줄이고 프로그램에서 값이 변하지 않는다면 const로 선언하는 것이 좋음.
            3. 객체 선언은 const를 사용
            - 객체를 선언할 때는 프로그래밍 도중에 객체 자체가 바뀌지 않도록 const를 사용해서 선언함.
        */
    </script>
</body>
</html>